// Newsletter popup
const modal = document.getElementById('newsletter-modal');
const closeBtn = document.getElementById('close-newsletter');

function showModal() {
  // Check localStorage first
  if (!localStorage.getItem('hideNewsletter')) {
    modal.style.display = 'flex';
  }
}

setTimeout(showModal, 2000);

closeBtn.onclick = () => { modal.style.display = 'none'; }
modal.onclick = e => { if(e.target===modal) modal.style.display='none'; }

// Listen for message from newsletter iframe
window.addEventListener('message', (e) => {
  if (e.data === 'closeNewsletter') modal.style.display = 'none';
});
